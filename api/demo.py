import requests


API_URL = "http://127.0.0.1:5000/predict"
data = [
    {
        "ano": 2014,
        "mes": 1,
        "Coquimbo": 3.5246732065,
        "Valparaiso": 2.3787662296,
        "Metropolitana_de_Santiago": 7.2782718104,
        "Libertador_Gral__Bernardo_O_Higgins": 4.8047596885,
        "Maule": 7.8315224685,
        "Biobio": 33.6840026452,
        "La_Araucania": 96.7079664188,
        "Los_Rios": 130.2129456868,
        "PIB_Agropecuario_silvicola": 55059326,
        "PIB_Pesca": 449097098,
        "PIB_Mineria": 123408811,
        "PIB_Mineria_del_cobre": 110892244,
        "PIB_Otras_actividades_mineras": 125165676,
        "PIB_Industria_Manufacturera": 125915256,
        "PIB_Alimentos": 323829181,
        "PIB_Bebidas_y_tabaco": 160131672,
        "PIB_Textil": 271608802,
        "PIB_Maderas_y_muebles": 613149007,
        "PIB_Celulosa": 111186684,
        "PIB_Refinacion_de_petroleo": 107176547,
        "PIB_Quimica": 197004194,
        "PIB_Minerales_no_metalicos_y_metalica_basica": 6795359,
        "PIB_Productos_metalicos": 203394915,
        "PIB_Electricidad": 309290133,
        "PIB_Construccion": 635812268,
        "PIB_Comercio": 10768256,
        "PIB_Restaurantes_y_hoteles": 220170996,
        "PIB_Transporte": 539108727,
        "PIB_Comunicaciones": 364948817,
        "PIB_Servicios_financieros": 603426797,
        "PIB_Servicios_empresariales": 126672311,
        "PIB_Servicios_de_vivienda": 85785202,
        "PIB_Servicios_personales": 787099521,
        "PIB_Administracion_publica": 522480077,
        "PIB_a_costo_de_factores": 102724817,
        "PIB": 112152352,
        "Imacec_empalmado": 97.6,
        "Imacec_produccion_de_bienes": 101.54,
        "Imacec_minero": 97.7,
        "Imacec_industria": 98.5,
        "Imacec_resto_de_bienes": 107.47,
        "Imacec_comercio": 103.244,
        "Imacec_servicios": 93.851,
        "Imacec_a_costo_de_factores": 97.687,
        "Imacec_no_minero": 97.5,
        "num": 94.3
    },
    {
        "ano": 2014,
        "mes": 2,
        "Coquimbo": 1.6888562116,
        "Valparaiso": 8.3898538959,
        "Metropolitana_de_Santiago": 17.8030704519,
        "Libertador_Gral__Bernardo_O_Higgins": 7.2951782981,
        "Maule": 3.0159317793,
        "Biobio": 22.1861968266,
        "La_Araucania": 43.1574105715,
        "Los_Rios": 65.2280103723,
        "PIB_Agropecuario_silvicola": 589162366,
        "PIB_Pesca": 530628153,
        "PIB_Mineria": 118979099,
        "PIB_Mineria_del_cobre": 107686125,
        "PIB_Otras_actividades_mineras": 112929737,
        "PIB_Industria_Manufacturera": 117324454,
        "PIB_Alimentos": 326848287,
        "PIB_Bebidas_y_tabaco": 151002582,
        "PIB_Textil": 24777101,
        "PIB_Maderas_y_muebles": 58489291,
        "PIB_Celulosa": 985263519,
        "PIB_Refinacion_de_petroleo": 987746023,
        "PIB_Quimica": 169050011,
        "PIB_Minerales_no_metalicos_y_metalica_basica": 637721806,
        "PIB_Productos_metalicos": 182004135,
        "PIB_Electricidad": 276725914,
        "PIB_Construccion": 621419201,
        "PIB_Comercio": 106567859,
        "PIB_Restaurantes_y_hoteles": 21519997,
        "PIB_Transporte": 530525285,
        "PIB_Comunicaciones": 329424874,
        "PIB_Servicios_financieros": 602969763,
        "PIB_Servicios_empresariales": 116462931,
        "PIB_Servicios_de_vivienda": 829465384,
        "PIB_Servicios_personales": 690060504,
        "PIB_Administracion_publica": 523184092,
        "PIB_a_costo_de_factores": 985454361,
        "PIB": 107497828,
        "Imacec_empalmado": 93.5,
        "Imacec_produccion_de_bienes": 98.2,
        "Imacec_minero": 94.2,
        "Imacec_industria": 91.8,
        "Imacec_resto_de_bienes": 107.454,
        "Imacec_comercio": 102.175,
        "Imacec_servicios": 88.8,
        "Imacec_a_costo_de_factores": 93.71,
        "Imacec_no_minero": 93.4,
        "num": 92.8
    }
]
model = "model1"  # Optional

if __name__ == "__main__":
    api_prediction = requests.post(API_URL, json={"query": data, "model": model})
    print(api_prediction.text)
    # {'prediction': [244.54084431277155, 171.87887865792788]}
